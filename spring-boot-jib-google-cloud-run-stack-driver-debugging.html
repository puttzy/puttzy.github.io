<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Spring Boot + Jib + Google Cloud Run + Stack driver debugging - Puttz&#x27;n Around the cloud</title><meta name="description" content="Yeah - there'e no elegant title to this if I want you to understand what exactly you're about to dive into.  It is exactly what it says.  A breif, high-level overview of getting Stack Driver Debugger working on a Spring boot project in Google Cloud Run using jib.  This is not in depth, but much more of an overview of how I got the basics working."><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://puttzy.github.io/spring-boot-jib-google-cloud-run-stack-driver-debugging.html"><link rel="alternate" type="application/atom+xml" href="https://puttzy.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://puttzy.github.io/feed.json"><meta property="og:title" content="Spring Boot + Jib + Google Cloud Run + Stack driver debugging"><meta property="og:image" content="https://puttzy.github.io/media/posts/13/private-git-repository.png"><meta property="og:site_name" content="Puttz'n Around the cloud"><meta property="og:description" content="Yeah - there'e no elegant title to this if I want you to understand what exactly you're about to dive into.  It is exactly what it says.  A breif, high-level overview of getting Stack Driver Debugger working on a Spring boot project in Google Cloud Run using jib.  This is not in depth, but much more of an overview of how I got the basics working."><meta property="og:url" content="https://puttzy.github.io/spring-boot-jib-google-cloud-run-stack-driver-debugging.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@puttznaround"><meta name="twitter:title" content="Spring Boot + Jib + Google Cloud Run + Stack driver debugging"><meta name="twitter:description" content="Yeah - there'e no elegant title to this if I want you to understand what exactly you're about to dive into.  It is exactly what it says.  A breif, high-level overview of getting Stack Driver Debugger working on a Spring boot project in Google Cloud Run using jib.  This is not in depth, but much more of an overview of how I got the basics working."><meta name="twitter:image" content="https://puttzy.github.io/media/posts/13/private-git-repository.png"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700&amp;subset=latin-ext&amp;display=swap" rel="stylesheet"><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:'PT Serif',Georgia,"Times New Roman",Times,serif}</style><link rel="stylesheet" href="https://puttzy.github.io/assets/css/style.css?v=69181b9c1a3c8ca8f05c97047b5650ac"><link rel="stylesheet" href="https://puttzy.github.io/assets/css/photoswipe.css?v=357f87f4e9502a5318d89e8e76e0a344"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://puttzy.github.io/spring-boot-jib-google-cloud-run-stack-driver-debugging.html"},"headline":"Spring Boot + Jib + Google Cloud Run + Stack driver debugging","datePublished":"2019-10-08T13:32","dateModified":"2019-10-08T16:12","image":{"@type":"ImageObject","url":"https://puttzy.github.io/media/posts/13/private-git-repository.png","height":300,"width":364},"description":"<p>Yeah - there'e no elegant title to this if I want you to understand what exactly you're about to dive into.  It is exactly what it says.  A breif, high-level overview of getting <a href=\"https://cloud.google.com/debugger/\">Stack Driver Debugger</a> working on a Spring boot project in <a href=\"https://cloud.google.com/run/\">Google Cloud Run </a>using <a href=\"https://github.com/GoogleContainerTools/jib\">jib</a>.  This is not in depth, but much more of an overview of how I got the basics working.</p>\n","author":{"@type":"Person","name":"Dan Putt"},"publisher":{"@type":"Organization","name":"Dan Putt","logo":{"@type":"ImageObject","url":"https://puttzy.github.io/media/website/Bokehlicia-Captiva-Cloud.ico","height":false,"width":false}}}</script><script src="https://puttzy.github.io/assets/js/ls.parent-fit.min.js?v=1c78585e2a70398fe95085061942fd37"></script><script async src="https://puttzy.github.io/assets/js/lazysizes.min.js?v=149ff45fc6c2f13e892e438a58abb77f"></script><style>.pswp--svg .pswp__button,
				          .pswp--svg .pswp__button--arrow--left:before,
				          .pswp--svg .pswp__button--arrow--right:before {
					          background-image: url(https://puttzy.github.io/assets/svg/gallery-icons-light.svg);
			              }</style><script async src="https://www.googletagmanager.com/gtag/js?id=UA-147214067-1"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-147214067-1');</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://puttzy.github.io/"><img src="https://puttzy.github.io/media/website/Bokehlicia-Captiva-Cloud.ico" alt="Puttz&#x27;n Around the cloud"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li class="has-submenu"><a href="https://puttzy.github.io/gcp/" target="_self" aria-haspopup="true">GCP</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://puttzy.github.io/cloud-run/" target="_self">Cloud Run</a></li><li><a href="https://puttzy.github.io/cloud-build/" target="_self">Cloud Build</a></li><li><a href="https://puttzy.github.io/kms/" target="_self">KMS</a></li></ul></li><li class="has-submenu"><a href="https://puttzy.github.io/java/" target="_self" aria-haspopup="true">Java</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://puttzy.github.io/springboot/" target="_self">Spring Boot</a></li></ul></li><li><a href="https://github.com/puttzy/" target="_self">My Github</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://puttzy.github.io/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image"><img class="hero__image-img lazyload" data-src="https://puttzy.github.io/media/posts/13/private-git-repository.png" data-srcset="https://puttzy.github.io/media/posts/13/responsive/private-git-repository-xs.png 300w ,https://puttzy.github.io/media/posts/13/responsive/private-git-repository-sm.png 480w ,https://puttzy.github.io/media/posts/13/responsive/private-git-repository-md.png 768w ,https://puttzy.github.io/media/posts/13/responsive/private-git-repository-lg.png 1024w ,https://puttzy.github.io/media/posts/13/responsive/private-git-repository-xl.png 1360w ,https://puttzy.github.io/media/posts/13/responsive/private-git-repository-2xl.png 1600w" data-aspectratio="1.2133333333333334" data-sizes="auto" alt="" height="300" width="364"></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2019-10-08T13:32">October 8, 2019</time></div><h1>Spring Boot + Jib + Google Cloud Run + Stack driver debugging</h1><div class="post__meta post__meta--author"><a href="https://puttzy.github.io/authors/dan-putt/" class="feed__author invert">Dan Putt</a></div></div></header></div><div class="wrapper post__entry"><p>Yeah - there'e no elegant title to this if I want you to understand what exactly you're about to dive into.  It is exactly what it says.  A breif, high-level overview of getting <a href="https://cloud.google.com/debugger/">Stack Driver Debugger</a> working on a Spring boot project in <a href="https://cloud.google.com/run/">Google Cloud Run </a>using <a href="https://github.com/GoogleContainerTools/jib">jib</a>.  This is not in depth, but much more of an overview of how I got the basics working.</p><p>I don't wanna waste a lot of your time, or mine, writing about what each of these things is or does.  If you are here you are probably already familiar with each technology but may be looking to solve this exact use-case.  Or you're bored and wanted to read up.  Either way, while this is basic, it is not ground zero basic.</p><p>There were a few good resources that enabled me to get down this path:</p><ul><li class="devsite-page-title">Setting Up Stackdriver Debugger for Java - <a href="https://cloud.google.com/debugger/docs/setup/java#cloud-run">Cloud Run and Cloud Run for Anthos on Google Cloud</a></li><li class="devsite-page-title">Jib - <a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin#extended-usage">Extended usage</a></li></ul><p><strong>Step 1: </strong><strong>Download and unzip the stackdriver agent</strong></p><pre class="devsite-code-button-clone"><code><span class="pln">RUN mkdir </span><span class="pun">/</span><span class="pln">opt</span><span class="pun">/</span><span class="pln">cdbg </span><span class="pun">&amp;&amp;</span> <span class="pun">\</span><span class="pln"><br>    wget </span><span class="pun">-</span><span class="pln">qO</span><span class="pun">-</span><span class="pln"> https</span><span class="pun">:</span><span class="com">//storage.googleapis.com/cloud-debugger/compute-java/debian-wheezy/cdbg_java_agent_gce.tar.gz | \</span><span class="pln"><br>    tar xvz </span><span class="pun">-</span><span class="pln">C </span><span class="pun">/</span><span class="pln">opt</span><span class="pun">/</span><span class="pln">cdbg---</span></code></pre><p>You'll notice that the first thing we need to do is download the stackdriver agent.  For the time being I did this manually and put it in my repository under my jib directory.  You may have seen an <a href="https://puttzy.github.io/inject-credentials-file-during-cloud-build.html">earlier entry</a> about how to copy things into your contianer at build time, but if not here's a little refresher.  It's really easy.  Just put them in a jib directory under <em>src/main/jib</em>.</p><p class="msg msg--highlight"><strong>todo</strong>: make the download and unzip of the agent part of my build process so I dont have to check it in.  This assures I get the latest version if it should ever change </p><p><strong>Step 2: </strong><strong>Add the agent path to the startup call</strong></p><pre class="prettyprint"><code><span class="pln">RUN  java </span><span class="pun">-</span><span class="pln">agentpath</span><span class="pun">:</span><span class="str">/opt/</span><span class="pln">cdbg</span><span class="pun">/</span><span class="pln">cdbg_java_agent</span><span class="pun">.</span><span class="pln">so </span><span class="pun">\</span><span class="pln"><br>    </span><span class="pun">-</span><span class="pln">jar PATH_TO_JAR_FILE</span></code></pre><p>Jib makes this easy with their <a href="https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin#extended-usage">extended use propertie</a>s, in particular the <strong>jvmFlags</strong> setting.  </p><pre>jib {<br>    to {<br>        image= "&lt;path to my image repo&gt;"<br>        tags= ['catalog-service-jib']<br>    }<br>    container {<br>        environment=[GOOGLE_APPLICATION_CREDENTIALS: './cred/logging_service_account.json', SPRING_PROFILES_ACTIVE: 'cloud']<br>        ports= ['8080']<br>        <strong><span style="color: blue;">jvmFlags = ['-agentpath:./opt/cdbg/cdbg_java_agent.so']</span></strong><br>    }<br>}</pre><p>If you watch closely as your <em>gradle jibdockerbuild</em> step runs you'll notice that it takes care of setting a lot of stuff for you:</p><p><code>Container entrypoint set to [java, -agentpath:./opt/cdbg/cdbg_java_agent.so,  -cp, /app/resources:/app/classes:/app/libs/*, com.insightdi.refarch.catalogservice.CatalogServiceApplication]</code></p><p><strong>Step 3: </strong><strong>Enjoy Logging and debugging through GCP</strong></p><p>Once I deploy my application in cloud build I can now set breakpoints and add logging statements right through the either the <em>old</em> or the new stack driver debugging interface which ties in nicely with the google cloud source repositories.</p><div class="gallery" data-is-empty="false" data-columns="2"><figure class="gallery__item"><a href="https://puttzy.github.io/media/posts/13//gallery/Screen-Shot-2019-10-08-at-1.31.50-PM.png" data-size="2538x657"><img src="https://puttzy.github.io/media/posts/13//gallery/Screen-Shot-2019-10-08-at-1.31.50-PM-thumbnail.png" alt="New Stack driver debugger" data-aspectratio="3.870968" width="720" height="186"></a></figure><figure class="gallery__item"><a href="https://puttzy.github.io/media/posts/13//gallery/Screen-Shot-2019-10-08-at-1.31.26-PM.png" data-size="1422x378"><img src="https://puttzy.github.io/media/posts/13//gallery/Screen-Shot-2019-10-08-at-1.31.26-PM-thumbnail.png" alt="Showing the statement in the logs" data-aspectratio="3.769634" width="720" height="191"></a></figure></div><p>Happy debugging</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on October 8, 2019</p><ul class="post__tag"><li><a href="https://puttzy.github.io/cloud-run/">cloud run</a></li><li><a href="https://puttzy.github.io/gcp/">gcp</a></li><li><a href="https://puttzy.github.io/java/">java</a></li><li><a href="https://puttzy.github.io/springboot/">springboot</a></li><li><a href="https://puttzy.github.io/stackdriver/">stackdriver</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fputtzy.github.io%2Fspring-boot-jib-google-cloud-run-stack-driver-debugging.html" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fputtzy.github.io%2Fspring-boot-jib-google-cloud-run-stack-driver-debugging.html&amp;via=puttznaround&amp;text=Spring%20Boot%20%2B%20Jib%20%2B%20Google%20Cloud%20Run%20%2B%20Stack%20driver%20debugging" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fputtzy.github.io%2Fspring-boot-jib-google-cloud-run-stack-driver-debugging.html&amp;title=Spring%20Boot%20%2B%20Jib%20%2B%20Google%20Cloud%20Run%20%2B%20Stack%20driver%20debugging" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span></a></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://puttzy.github.io/spring-boot-admin-and-google-cloud-run.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Spring Boot Admin and Google Cloud Run</a></div><div class="post__nav-next"><a href="https://puttzy.github.io/viewing-google-cloud-run-metrics-in-stack-driver.html" class="invert post__nav-link" rel="next"><span>Next</span> Viewing Google Cloud Run Metrics in Stack Driver </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2019-09-30T11:17" class="feed__date">September 30, 2019</time></div><h3 class="h1"><a href="https://puttzy.github.io/spring-boot-admin-and-google-cloud-run.html" class="invert">Spring Boot Admin and Google Cloud Run</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2019-09-26T09:56" class="feed__date">September 26, 2019</time></div><h3 class="h1"><a href="https://puttzy.github.io/managing-google-runtime-configurations.html" class="invert">Managing Google Runtime Configurations</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2019-09-10T09:50" class="feed__date">September 10, 2019</time></div><h3 class="h1"><a href="https://puttzy.github.io/google-cloud-build-decrypting-kms-secrets.html" class="invert">Google Cloud Build decrypting KMS Secrets</a></h3></article></div></div><div class="post__comments"><div class="wrapper"><h2 class="h5">Comments</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
                       this.page.url = 'https://puttzy.github.io/spring-boot-jib-google-cloud-run-stack-driver-debugging.html';
               		this.page.identifier = '13';
                       this.page.title = ' Spring Boot + Jib + Google Cloud Run + Stack driver debugging';
                   };
               
                   var disqus_loaded = false;
               
                   function publiiLoadDisqus() {
                       if(disqus_loaded) {
                           return false;
                       }
               
                       var top = document.getElementById('disqus_thread').offsetTop;
               
                       if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                           disqus_loaded = true;
               
                           (function () {
                               var d = document, s = d.createElement('script');
                               s.src = 'https://puttzy.disqus.com/embed.js';
                               s.setAttribute('data-timestamp', +new Date());
                               (d.head || d.body).appendChild(s);
                           })();
                       }
                   }
               
                   publiiLoadDisqus();
               
                   window.onscroll = function() {
                       publiiLoadDisqus();
                   };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></main><footer class="footer"><div class="footer__social"><a href="https://twitter.com/puttznaround" aria-label="Twitter"><svg><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://instagram.com/puttzy" aria-label="Instagram"><svg><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.linkedin.com/in/danielputt/" aria-label="LinkedIn"><svg><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div><div class="footer__copyright"><p>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener noreferrer">Publii Static CMS</a></p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://puttzy.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'overlay',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://puttzy.github.io/assets/js/scripts.min.js?v=f56b13ba141d95ea2a0b7aab75ca9528"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script><script defer="defer" src="https://puttzy.github.io/assets/js/photoswipe.min.js?v=90d5a5ff4789f25f79840f95fc089c0e"></script><script defer="defer" src="https://puttzy.github.io/assets/js/photoswipe-ui-default.min.js?v=c061a13816b98ce8c8a7ffb2e62dc403"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
          linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
          if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
          item.el=figureEl;items.push(item);}
          return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
          var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
          if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
          nodeIndex++;}
          if(index>=0){openPhotoSwipe(index,clickedGallery);}
          return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
          var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
          var pair=vars[i].split('=');if(pair.length<2){continue;}
          params[pair[0]]=pair[1];}
          if(params.gid){params.gid=parseInt(params.gid,10);}
          return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
          mainClass:'pswp--dark',
          preload: [1,2],
          hideAnimationDuration:200,
          showAnimationDuration:0,
          bgOpacity: 0.7,
          showHideOpacity:true,
          closeOnScroll: true,
          arrowKeys: true,
          closeEl: true,
          captionEl: true,
          fullscreenEl: true,
          zoomEl: true,
          shareEl: true,
          counterEl: true,
          arrowEl: true,
          preloaderEl: true
          };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
          if(isNaN(options.index)){return;}
          if(disableAnimation){options.showAnimationDuration=0;}
          gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
          var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};initPhotoSwipeFromDOM('.gallery');</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><script>document.getElementsByClassName('footer__social')[0].innerHTML += ('<a href="https://github.com/puttzy/" aria-label="GitHub"> <svg viewbox="0 0 24 24"> <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"> </svg></a>')</script></body></html>